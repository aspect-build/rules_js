"""@generated by npm_translate_lock(name = "lock-<LOCKVERSION>", pnpm_lock = "@@//<LOCKVERSION>:pnpm-lock.yaml")"""

load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__ansi-regex__5.0.1__links//:defs.bzl", store_0 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__ansi-regex__6.1.0__links//:defs.bzl", store_1 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__ansi-styles__4.3.0__links//:defs.bzl", store_2 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__ansi-styles__6.2.1__links//:defs.bzl", store_3 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_a__5.0.2__links//:defs.bzl", link_4 = "npm_link_imported_package_store", store_4 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_b__5.0.2__links//:defs.bzl", link_5 = "npm_link_imported_package_store", store_5 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_c__2.0.0__links//:defs.bzl", link_6 = "npm_link_imported_package_store", store_6 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_c__2.0.1__links//:defs.bzl", link_7 = "npm_link_imported_package_store", store_7 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_c__2.0.2__links//:defs.bzl", store_8 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_d__2.0.0_at_aspect-test_c_2.0.0__links//:defs.bzl", link_9 = "npm_link_imported_package_store", store_9 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_d__2.0.0_at_aspect-test_c_2.0.1__links//:defs.bzl", link_10 = "npm_link_imported_package_store", store_10 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_d__2.0.0_at_aspect-test_c_2.0.2__links//:defs.bzl", store_11 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_e__1.0.0__links//:defs.bzl", link_12 = "npm_link_imported_package_store", store_12 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_aspect-test_h__1.0.0__links//:defs.bzl", link_13 = "npm_link_imported_package_store", store_13 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_foo_jsonify__at_github.com_aspect-build_test-packages_releases_download_0.0.0_at_foo-jsonify-0.0.0.tgz__links//:defs.bzl", link_14 = "npm_link_imported_package_store", store_14 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_isaacs_cliui__8.0.2__links//:defs.bzl", link_15 = "npm_link_imported_package_store", store_15 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_rollup_plugin-typescript__8.2.1_1813138439__links//:defs.bzl", link_16 = "npm_link_imported_package_store", store_16 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_rollup_pluginutils__3.1.0_rollup_3.29.4__links//:defs.bzl", store_17 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_archiver__5.3.1__links//:defs.bzl", link_18 = "npm_link_imported_package_store", store_18 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_estree__0.0.39__links//:defs.bzl", store_19 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_glob__8.1.0__links//:defs.bzl", store_20 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_minimatch__5.1.2__links//:defs.bzl", store_21 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_node__16.18.11__links//:defs.bzl", link_22 = "npm_link_imported_package_store", store_22 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__at_types_sizzle__2.3.9__links//:defs.bzl", link_23 = "npm_link_imported_package_store", store_23 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__color-convert__2.0.1__links//:defs.bzl", store_24 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__color-name__1.1.4__links//:defs.bzl", store_25 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__debug__github.com_ngokevin_debug_9742c5f383a6f8046241920156236ade8ec30d53__links//:defs.bzl", link_26 = "npm_link_imported_package_store", store_26 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__dequal__2.0.3__links//:defs.bzl", store_27 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__diff__at_github.com_kpdecker_jsdiff_archive_refs_tags_v5.2.0.tar.gz__links//:defs.bzl", store_28 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__eastasianwidth__0.2.0__links//:defs.bzl", store_29 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__emoji-regex__8.0.0__links//:defs.bzl", store_30 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__emoji-regex__9.2.2__links//:defs.bzl", store_31 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__estree-walker__1.0.1__links//:defs.bzl", store_32 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__fsevents__2.3.3__links//:defs.bzl", store_33 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__function-bind__1.1.2__links//:defs.bzl", store_34 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__hasown__2.0.2__links//:defs.bzl", store_35 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__hello__at_gitpkg.vercel.app_EqualMa_gitpkg-hello_packages_hello__links//:defs.bzl", link_36 = "npm_link_imported_package_store", store_36 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-core-module__2.16.1__links//:defs.bzl", store_37 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-fullwidth-code-point__3.0.0__links//:defs.bzl", store_38 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-odd__0.1.0__links//:defs.bzl", link_39 = "npm_link_imported_package_store", store_39 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-odd__1.0.0__links//:defs.bzl", link_40 = "npm_link_imported_package_store", store_40 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-odd__2.0.0__links//:defs.bzl", link_41 = "npm_link_imported_package_store", store_41 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-odd__3.0.0__links//:defs.bzl", link_42 = "npm_link_imported_package_store", store_42 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__is-odd__3.0.1__links//:defs.bzl", link_43 = "npm_link_imported_package_store", store_43 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__jquery__github.com_jquery_jquery_399b201bb3143a3952894cf3489b4848fc003967__links//:defs.bzl", link_44 = "npm_link_imported_package_store", store_44 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__jquery__github.com_jquery_jquery_e61fccb9d736235b4b011f89cba6866bc0b8997d__links//:defs.bzl", link_45 = "npm_link_imported_package_store", store_45 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__kleur__4.1.5__links//:defs.bzl", store_46 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__lodash__4.17.21__links//:defs.bzl", link_47 = "npm_link_imported_package_store", store_47 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__meaning-of-life__1.0.0_o3deharooos255qt5xdujc3cuq__links//:defs.bzl", link_48 = "npm_link_imported_package_store", store_48 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__mri__1.2.0__links//:defs.bzl", store_49 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__ms__0.7.3__links//:defs.bzl", store_50 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__path-parse__1.0.7__links//:defs.bzl", store_51 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__picomatch__2.3.1__links//:defs.bzl", store_52 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__resolve__1.22.10__links//:defs.bzl", store_53 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__rollup__2.14.0__links//:defs.bzl", link_54 = "npm_link_imported_package_store", store_54 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__rollup__3.29.4__links//:defs.bzl", link_55 = "npm_link_imported_package_store", store_55 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__sade__1.8.1__links//:defs.bzl", store_56 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__string-width__4.2.3__links//:defs.bzl", store_57 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__string-width__5.1.2__links//:defs.bzl", store_58 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__strip-ansi__6.0.1__links//:defs.bzl", store_59 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__strip-ansi__7.1.0__links//:defs.bzl", store_60 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__supports-preserve-symlinks-flag__1.0.0__links//:defs.bzl", store_61 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__tslib__2.6.3__links//:defs.bzl", link_62 = "npm_link_imported_package_store", store_62 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__typescript__5.5.2__links//:defs.bzl", link_63 = "npm_link_imported_package_store", store_63 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__uvu__0.5.6__links//:defs.bzl", link_64 = "npm_link_imported_package_store", store_64 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__wrap-ansi__7.0.0__links//:defs.bzl", store_65 = "npm_imported_package_store")
load("@@aspect_rules_js~~npm~lock-<LOCKVERSION>__wrap-ansi__8.1.0__links//:defs.bzl", store_66 = "npm_imported_package_store")

# buildifier: disable=bzl-visibility
load("@aspect_rules_js//js:defs.bzl", _js_library = "js_library")

# buildifier: disable=bzl-visibility
load("@aspect_rules_js//npm/private:npm_link_package_store.bzl", _npm_link_package_store = "npm_link_package_store")

# buildifier: disable=bzl-visibility
load("@aspect_rules_js//npm/private:npm_package_store.bzl", _npm_package_store = "npm_package_store", _npm_local_package_store = "npm_local_package_store_internal")

_LINK_PACKAGES = ["<LOCKVERSION>", "projects/a", "projects/a-types", "projects/b", "projects/c", "projects/d", "projects/peer-types", "projects/peers-combo-1", "projects/peers-combo-2", "vendored/is-number"]

# buildifier: disable=function-docstring
def npm_link_all_packages(name = "node_modules", imported_links = []):
    bazel_package = native.package_name()
    root_package = "<LOCKVERSION>"
    is_root = bazel_package == root_package
    link = bazel_package in _LINK_PACKAGES
    if not is_root and not link:
        msg = "The npm_link_all_packages() macro loaded from @aspect_rules_js~~npm~lock-<LOCKVERSION>//:defs.bzl and called in bazel package '%s' may only be called in bazel packages that correspond to the pnpm root package or pnpm workspace projects. Projects are discovered from the pnpm-lock.yaml and may be missing if the lockfile is out of date. Root package: '<LOCKVERSION>', pnpm workspace projects: %s" % (bazel_package, "'" + "', '".join(_LINK_PACKAGES) + "'")
        fail(msg)
    link_targets = []
    scope_targets = {}

    for link_fn in imported_links:
        new_link_targets, new_scope_targets = link_fn(name)
        link_targets.extend(new_link_targets)
        for _scope, _targets in new_scope_targets.items():
            if _scope not in scope_targets:
                scope_targets[_scope] = []
            scope_targets[_scope].extend(_targets)

    if is_root:
        store_0(name)
        store_1(name)
        store_2(name)
        store_3(name)
        store_4(name)
        store_5(name)
        store_6(name)
        store_7(name)
        store_8(name)
        store_9(name)
        store_10(name)
        store_11(name)
        store_12(name)
        store_13(name)
        store_14(name)
        store_15(name)
        store_16(name)
        store_17(name)
        store_18(name)
        store_19(name)
        store_20(name)
        store_21(name)
        store_22(name)
        store_23(name)
        store_24(name)
        store_25(name)
        store_26(name)
        store_27(name)
        store_28(name)
        store_29(name)
        store_30(name)
        store_31(name)
        store_32(name)
        store_33(name)
        store_34(name)
        store_35(name)
        store_36(name)
        store_37(name)
        store_38(name)
        store_39(name)
        store_40(name)
        store_41(name)
        store_42(name)
        store_43(name)
        store_44(name)
        store_45(name)
        store_46(name)
        store_47(name)
        store_48(name)
        store_49(name)
        store_50(name)
        store_51(name)
        store_52(name)
        store_53(name)
        store_54(name)
        store_55(name)
        store_56(name)
        store_57(name)
        store_58(name)
        store_59(name)
        store_60(name)
        store_61(name)
        store_62(name)
        store_63(name)
        store_64(name)
        store_65(name)
        store_66(name)
    if link:
        if bazel_package == "<LOCKVERSION>":
            link_4("{}/@aspect-test-a-bad-scope".format(name), link_root_name = name, link_alias = "@aspect-test-a-bad-scope")
            link_targets.append(":{}/@aspect-test-a-bad-scope".format(name))
            if "@aspect-test-a-bad-scop" not in scope_targets:
                scope_targets["@aspect-test-a-bad-scop"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test-a-bad-scop"].append(link_targets[-1])
            link_4("{}/@aspect-test-custom-scope/a".format(name), link_root_name = name, link_alias = "@aspect-test-custom-scope/a")
            link_targets.append(":{}/@aspect-test-custom-scope/a".format(name))
            if "@aspect-test-custom-scope" not in scope_targets:
                scope_targets["@aspect-test-custom-scope"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test-custom-scope"].append(link_targets[-1])
            link_4("{}/@aspect-test/a".format(name), link_root_name = name, link_alias = "@aspect-test/a")
            link_targets.append(":{}/@aspect-test/a".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_4("{}/@aspect-test/a2".format(name), link_root_name = name, link_alias = "@aspect-test/a2")
            link_targets.append(":{}/@aspect-test/a2".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_4("{}/aspect-test-a-no-scope".format(name), link_root_name = name, link_alias = "aspect-test-a-no-scope")
            link_targets.append(":{}/aspect-test-a-no-scope".format(name))
            link_4("{}/aspect-test-a/no-at".format(name), link_root_name = name, link_alias = "aspect-test-a/no-at")
            link_targets.append(":{}/aspect-test-a/no-at".format(name))
            link_5("{}/@aspect-test/b".format(name), link_root_name = name, link_alias = "@aspect-test/b")
            link_targets.append(":{}/@aspect-test/b".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_6("{}/@aspect-test/c".format(name), link_root_name = name, link_alias = "@aspect-test/c")
            link_targets.append(":{}/@aspect-test/c".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_12("{}/@aspect-test/e".format(name), link_root_name = name, link_alias = "@aspect-test/e")
            link_targets.append(":{}/@aspect-test/e".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_13("{}/@aspect-test/h-is-only-optional".format(name), link_root_name = name, link_alias = "@aspect-test/h-is-only-optional")
            link_targets.append(":{}/@aspect-test/h-is-only-optional".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_14("{}/jsonify".format(name), link_root_name = name, link_alias = "jsonify")
            link_targets.append(":{}/jsonify".format(name))
            link_15("{}/@isaacs/cliui".format(name), link_root_name = name, link_alias = "@isaacs/cliui")
            link_targets.append(":{}/@isaacs/cliui".format(name))
            if "@isaacs" not in scope_targets:
                scope_targets["@isaacs"] = [link_targets[-1]]
            else:
                scope_targets["@isaacs"].append(link_targets[-1])
            link_16("{}/rollup-plugin-with-peers".format(name), link_root_name = name, link_alias = "rollup-plugin-with-peers")
            link_targets.append(":{}/rollup-plugin-with-peers".format(name))
            link_18("{}/@types/archiver".format(name), link_root_name = name, link_alias = "@types/archiver")
            link_targets.append(":{}/@types/archiver".format(name))
            if "@types" not in scope_targets:
                scope_targets["@types"] = [link_targets[-1]]
            else:
                scope_targets["@types"].append(link_targets[-1])
            link_22("{}/@types/node".format(name), link_root_name = name, link_alias = "@types/node")
            link_targets.append(":{}/@types/node".format(name))
            if "@types" not in scope_targets:
                scope_targets["@types"] = [link_targets[-1]]
            else:
                scope_targets["@types"].append(link_targets[-1])
            link_22("{}/alias-types-node".format(name), link_root_name = name, link_alias = "alias-types-node")
            link_targets.append(":{}/alias-types-node".format(name))
            link_23("{}/alias-only-sizzle".format(name), link_root_name = name, link_alias = "alias-only-sizzle")
            link_targets.append(":{}/alias-only-sizzle".format(name))
            link_26("{}/debug".format(name), link_root_name = name, link_alias = "debug")
            link_targets.append(":{}/debug".format(name))
            link_36("{}/hello".format(name), link_root_name = name, link_alias = "hello")
            link_targets.append(":{}/hello".format(name))
            link_39("{}/is-odd-v0".format(name), link_root_name = name, link_alias = "is-odd-v0")
            link_targets.append(":{}/is-odd-v0".format(name))
            link_40("{}/is-odd-v1".format(name), link_root_name = name, link_alias = "is-odd-v1")
            link_targets.append(":{}/is-odd-v1".format(name))
            link_41("{}/is-odd-v2".format(name), link_root_name = name, link_alias = "is-odd-v2")
            link_targets.append(":{}/is-odd-v2".format(name))
            link_42("{}/is-odd-v3".format(name), link_root_name = name, link_alias = "is-odd-v3")
            link_targets.append(":{}/is-odd-v3".format(name))
            link_43("{}/is-odd".format(name), link_root_name = name, link_alias = "is-odd")
            link_targets.append(":{}/is-odd".format(name))
            link_43("{}/is-odd-alias".format(name), link_root_name = name, link_alias = "is-odd-alias")
            link_targets.append(":{}/is-odd-alias".format(name))
            link_44("{}/jquery-git-ssh-399b201".format(name), link_root_name = name, link_alias = "jquery-git-ssh-399b201")
            link_targets.append(":{}/jquery-git-ssh-399b201".format(name))
            link_45("{}/jquery-git-ssh-e61fccb".format(name), link_root_name = name, link_alias = "jquery-git-ssh-e61fccb")
            link_targets.append(":{}/jquery-git-ssh-e61fccb".format(name))
            link_47("{}/lodash".format(name), link_root_name = name, link_alias = "lodash")
            link_targets.append(":{}/lodash".format(name))
            link_48("{}/meaning-of-life".format(name), link_root_name = name, link_alias = "meaning-of-life")
            link_targets.append(":{}/meaning-of-life".format(name))
            link_54("{}/rollup".format(name), link_root_name = name, link_alias = "rollup")
            link_targets.append(":{}/rollup".format(name))
            link_55("{}/rollup3".format(name), link_root_name = name, link_alias = "rollup3")
            link_targets.append(":{}/rollup3".format(name))
            link_62("{}/tslib".format(name), link_root_name = name, link_alias = "tslib")
            link_targets.append(":{}/tslib".format(name))
            link_63("{}/typescript".format(name), link_root_name = name, link_alias = "typescript")
            link_targets.append(":{}/typescript".format(name))
            link_64("{}/uvu".format(name), link_root_name = name, link_alias = "uvu")
            link_targets.append(":{}/uvu".format(name))
        elif bazel_package == "projects/peers-combo-2":
            link_6("{}/@aspect-test/c".format(name), link_root_name = name, link_alias = "@aspect-test/c")
            link_targets.append(":{}/@aspect-test/c".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_9("{}/@aspect-test/d".format(name), link_root_name = name, link_alias = "@aspect-test/d")
            link_targets.append(":{}/@aspect-test/d".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
        elif bazel_package == "projects/peers-combo-1":
            link_7("{}/@aspect-test/c".format(name), link_root_name = name, link_alias = "@aspect-test/c")
            link_targets.append(":{}/@aspect-test/c".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
            link_10("{}/@aspect-test/d".format(name), link_root_name = name, link_alias = "@aspect-test/d")
            link_targets.append(":{}/@aspect-test/d".format(name))
            if "@aspect-test" not in scope_targets:
                scope_targets["@aspect-test"] = [link_targets[-1]]
            else:
                scope_targets["@aspect-test"].append(link_targets[-1])
        elif bazel_package == "projects/peer-types":
            link_14("{}/jsonify".format(name), link_root_name = name, link_alias = "jsonify")
            link_targets.append(":{}/jsonify".format(name))
            link_36("{}/hello".format(name), link_root_name = name, link_alias = "hello")
            link_targets.append(":{}/hello".format(name))
        elif bazel_package == "projects/a-types":
            link_22("{}/@types/node".format(name), link_root_name = name, link_alias = "@types/node")
            link_targets.append(":{}/@types/node".format(name))
            if "@types" not in scope_targets:
                scope_targets["@types"] = [link_targets[-1]]
            else:
                scope_targets["@types"].append(link_targets[-1])
        elif bazel_package == "projects/b":
            link_22("{}/@types/node".format(name), link_root_name = name, link_alias = "@types/node")
            link_targets.append(":{}/@types/node".format(name))
            if "@types" not in scope_targets:
                scope_targets["@types"] = [link_targets[-1]]
            else:
                scope_targets["@types"].append(link_targets[-1])

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "@scoped+c@0.0.0",
            src = "//projects/c:pkg",
            package = "@scoped/c",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+a@0.0.0".format(name): "@scoped/a",
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+b@0.0.0".format(name): "@scoped/b",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>", "projects/peer-types"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/@scoped/c".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+c@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/@scoped/c/dir".format(name),
            srcs = [":{}/@scoped/c".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/@scoped/c".format(name))
        if "@scoped" not in scope_targets:
            scope_targets["@scoped"] = [link_targets[-1]]
        else:
            scope_targets["@scoped"].append(link_targets[-1])

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "is-number@0.0.0",
            src = "//vendored/is-number:pkg",
            package = "is-number",
            version = "0.0.0",
            deps = {},
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "@scoped+a@0.0.0",
            src = "//projects/a:pkg",
            package = "@scoped/a",
            version = "0.0.0",
            deps = {},
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>", "projects/b", "projects/c", "projects/d", "projects/peer-types"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/@scoped/a".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+a@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/@scoped/a/dir".format(name),
            srcs = [":{}/@scoped/a".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/@scoped/a".format(name))
        if "@scoped" not in scope_targets:
            scope_targets["@scoped"] = [link_targets[-1]]
        else:
            scope_targets["@scoped"].append(link_targets[-1])

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "@scoped+b@0.0.0",
            src = "//projects/b:pkg",
            package = "@scoped/b",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+a@0.0.0".format(name): "@scoped/a",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>", "projects/c", "projects/d", "projects/peer-types"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/@scoped/b".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+b@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/@scoped/b/dir".format(name),
            srcs = [":{}/@scoped/b".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/@scoped/b".format(name))
        if "@scoped" not in scope_targets:
            scope_targets["@scoped"] = [link_targets[-1]]
        else:
            scope_targets["@scoped"].append(link_targets[-1])

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "@scoped+d@0.0.0",
            src = "//projects/d:pkg",
            package = "@scoped/d",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+a@0.0.0".format(name): "@scoped/a",
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+b@0.0.0".format(name): "@scoped/b",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/@scoped/d".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+d@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/@scoped/d/dir".format(name),
            srcs = [":{}/@scoped/d".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/@scoped/d".format(name))
        if "@scoped" not in scope_targets:
            scope_targets["@scoped"] = [link_targets[-1]]
        else:
            scope_targets["@scoped"].append(link_targets[-1])

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "alias-project-a@0.0.0",
            src = "//projects/a:pkg",
            package = "alias-project-a",
            version = "0.0.0",
            deps = {},
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/alias-project-a".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/alias-project-a@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/alias-project-a/dir".format(name),
            srcs = [":{}/alias-project-a".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/alias-project-a".format(name))

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "scoped+bad@0.0.0",
            src = "//projects/b:pkg",
            package = "scoped/bad",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@scoped+a@0.0.0".format(name): "@scoped/a",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/scoped/bad".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/scoped+bad@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/scoped/bad/dir".format(name),
            srcs = [":{}/scoped/bad".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/scoped/bad".format(name))

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "test-c200-d200@0.0.0",
            src = "//projects/peers-combo-2:pkg",
            package = "test-c200-d200",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@aspect-test+c@2.0.0".format(name): "@aspect-test/c",
                "//<LOCKVERSION>:.aspect_rules_js/{}/@aspect-test+d@2.0.0_at_aspect-test_c_2.0.0".format(name): "@aspect-test/d",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/test-c200-d200".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/test-c200-d200@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/test-c200-d200/dir".format(name),
            srcs = [":{}/test-c200-d200".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/test-c200-d200".format(name))

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "test-c201-d200@0.0.0",
            src = "//projects/peers-combo-1:pkg",
            package = "test-c201-d200",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@aspect-test+c@2.0.1".format(name): "@aspect-test/c",
                "//<LOCKVERSION>:.aspect_rules_js/{}/@aspect-test+d@2.0.0_at_aspect-test_c_2.0.1".format(name): "@aspect-test/d",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/test-c201-d200".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/test-c201-d200@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/test-c201-d200/dir".format(name),
            srcs = [":{}/test-c201-d200".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/test-c201-d200".format(name))

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "test-peer-types@0.0.0",
            src = "//projects/peer-types:pkg",
            package = "test-peer-types",
            version = "0.0.0",
            deps = {},
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["<LOCKVERSION>"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/test-peer-types".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/test-peer-types@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/test-peer-types/dir".format(name),
            srcs = [":{}/test-peer-types".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/test-peer-types".format(name))

    if is_root:
        _npm_local_package_store(
            link_root_name = name,
            package_store_name = "a-types@0.0.0",
            src = "//projects/a-types:pkg",
            package = "a-types",
            version = "0.0.0",
            deps = {
                "//<LOCKVERSION>:.aspect_rules_js/{}/@types+node@16.18.11".format(name): "@types/node",
            },
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

    if bazel_package in ["projects/b"]:
        # terminal target for direct dependencies
        _npm_link_package_store(
            name = "{}/a-types".format(name),
            src = "//<LOCKVERSION>:.aspect_rules_js/{}/a-types@0.0.0".format(name),
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )

        # filegroup target that provides a single file which is
        # package directory for use in $(execpath) and $(rootpath)
        native.filegroup(
            name = "{}/a-types/dir".format(name),
            srcs = [":{}/a-types".format(name)],
            output_group = "package_directory",
            visibility = ["//visibility:public"],
            tags = ["manual"],
        )
        link_targets.append(":{}/a-types".format(name))

    for scope, scoped_targets in scope_targets.items():
        _js_library(
            name = "{}/{}".format(name, scope),
            srcs = scoped_targets,
            tags = ["manual"],
            visibility = ["//visibility:public"],
        )

    _js_library(
        name = name,
        srcs = link_targets,
        tags = ["manual"],
        visibility = ["//visibility:public"],
    )

# buildifier: disable=function-docstring
def npm_link_targets(name = "node_modules", package = None):
    bazel_package = package if package != None else native.package_name()
    link = bazel_package in _LINK_PACKAGES

    link_targets = []

    if link:
        if bazel_package == "<LOCKVERSION>":
            link_targets.append(":{}/@aspect-test-a-bad-scope".format(name))
            link_targets.append(":{}/@aspect-test-custom-scope/a".format(name))
            link_targets.append(":{}/@aspect-test/a".format(name))
            link_targets.append(":{}/@aspect-test/a2".format(name))
            link_targets.append(":{}/aspect-test-a-no-scope".format(name))
            link_targets.append(":{}/aspect-test-a/no-at".format(name))
            link_targets.append(":{}/@aspect-test/b".format(name))
            link_targets.append(":{}/@aspect-test/c".format(name))
            link_targets.append(":{}/@aspect-test/e".format(name))
            link_targets.append(":{}/@aspect-test/h-is-only-optional".format(name))
            link_targets.append(":{}/jsonify".format(name))
            link_targets.append(":{}/@isaacs/cliui".format(name))
            link_targets.append(":{}/rollup-plugin-with-peers".format(name))
            link_targets.append(":{}/@types/archiver".format(name))
            link_targets.append(":{}/@types/node".format(name))
            link_targets.append(":{}/alias-types-node".format(name))
            link_targets.append(":{}/alias-only-sizzle".format(name))
            link_targets.append(":{}/debug".format(name))
            link_targets.append(":{}/hello".format(name))
            link_targets.append(":{}/is-odd-v0".format(name))
            link_targets.append(":{}/is-odd-v1".format(name))
            link_targets.append(":{}/is-odd-v2".format(name))
            link_targets.append(":{}/is-odd-v3".format(name))
            link_targets.append(":{}/is-odd".format(name))
            link_targets.append(":{}/is-odd-alias".format(name))
            link_targets.append(":{}/jquery-git-ssh-399b201".format(name))
            link_targets.append(":{}/jquery-git-ssh-e61fccb".format(name))
            link_targets.append(":{}/lodash".format(name))
            link_targets.append(":{}/meaning-of-life".format(name))
            link_targets.append(":{}/rollup".format(name))
            link_targets.append(":{}/rollup3".format(name))
            link_targets.append(":{}/tslib".format(name))
            link_targets.append(":{}/typescript".format(name))
            link_targets.append(":{}/uvu".format(name))
        elif bazel_package == "projects/peers-combo-2":
            link_targets.append(":{}/@aspect-test/c".format(name))
            link_targets.append(":{}/@aspect-test/d".format(name))
        elif bazel_package == "projects/peers-combo-1":
            link_targets.append(":{}/@aspect-test/c".format(name))
            link_targets.append(":{}/@aspect-test/d".format(name))
        elif bazel_package == "projects/peer-types":
            link_targets.append(":{}/jsonify".format(name))
            link_targets.append(":{}/hello".format(name))
        elif bazel_package == "projects/a-types":
            link_targets.append(":{}/@types/node".format(name))
        elif bazel_package == "projects/b":
            link_targets.append(":{}/@types/node".format(name))

    if bazel_package in ["<LOCKVERSION>", "projects/peer-types"]:
        link_targets.append(":{}/@scoped/c".format(name))

    if bazel_package in ["<LOCKVERSION>", "projects/b", "projects/c", "projects/d", "projects/peer-types"]:
        link_targets.append(":{}/@scoped/a".format(name))

    if bazel_package in ["<LOCKVERSION>", "projects/c", "projects/d", "projects/peer-types"]:
        link_targets.append(":{}/@scoped/b".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/@scoped/d".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/alias-project-a".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/scoped/bad".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/test-c200-d200".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/test-c201-d200".format(name))

    if bazel_package in ["<LOCKVERSION>"]:
        link_targets.append(":{}/test-peer-types".format(name))

    if bazel_package in ["projects/b"]:
        link_targets.append(":{}/a-types".format(name))
    return link_targets
